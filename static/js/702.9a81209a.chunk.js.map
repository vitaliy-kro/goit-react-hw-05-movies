{"version":3,"file":"static/js/702.9a81209a.chunk.js","mappings":"+QAGaA,GAAcC,EAAAA,EAAAA,IAAOC,EAAAA,GAAPD,CAAH,kEACX,qBAAGE,MAAkBC,MAAM,EAA3B,IACM,qBAAGD,MAAkBE,MAAMC,MAA3B,IAGNC,EAAeN,EAAAA,GAAAA,OAAH,0PACR,qBAAGE,MAAkBK,MAAMC,SAA3B,IACA,qBAAGN,MAAkBC,MAAM,EAA3B,IACJ,qBAAGD,MAAkBC,MAAM,EAA3B,IACM,qBAAGD,MAAkBE,MAAMC,MAA3B,IAWNI,EAAqBT,EAAAA,GAAAA,GAAH,wRAalBU,EAAaV,EAAAA,GAAAA,EAAH,6CACN,qBAAGE,MAAkBK,MAAMC,SAA3B,I,SCoCjB,EA7De,WACb,OAA4CG,EAAAA,EAAAA,UAAS,IAArD,eAAOC,EAAP,KAAuBC,EAAvB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,EAAYJ,EAAaK,IAAI,UAEnCC,EAAAA,EAAAA,YAAU,WACR,GAAKF,EAAL,CAGA,IAAMG,EAAa,IAAIC,gBACvB,IACEC,EAAAA,GAAAA,IAAA,kHAE+GL,EAF/G,+BAGI,CAAEM,OAAQH,EAAWG,SAEtBC,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAcd,EAAkBc,EAAKC,QAArC,GAGT,CAFC,MAAOC,GACPC,QAAQC,IAAIF,EACb,CAED,OAAO,WACLP,EAAWU,OACZ,CAfA,CAgBF,GAAE,CAACb,IAYJ,OACE,UAACc,EAAA,EAAD,CAAKC,EAAE,IAAP,WACE,SAAC,KAAD,CAAQC,SAZG,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACXA,EAAOC,OAIZrB,EAAgB,CAAEsB,MAAOF,IAHvBN,QAAQC,IAAI,kBAIf,EAM6BQ,cAAe,CAAEH,OAAQ,IAAnD,UACE,UAAC,KAAD,YACE,SAACrC,EAAD,CAAayC,KAAK,YAClB,SAAClC,EAAD,CAAcmC,KAAK,SAAnB,yBAGH7B,EAAe8B,OAAS,IACvB,SAACjC,EAAD,UACGG,EAAe+B,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAOC,EAAd,EAAcA,YAAd,OAClB,yBACE,UAAC,KAAD,CAASC,GAAE,UAAKH,GAAMI,MAAO,CAAEC,KAAMhC,GAArC,WACE,gBAAKiC,IAfK,kCAekBJ,EAAaK,IAAKN,KAC9C,SAACnC,EAAD,UAAamC,QAHRD,EADS,QAY7B,C","sources":["pages/Movies/Movies.styled.js","pages/Movies/Movies.jsx"],"sourcesContent":["import { Field } from 'formik';\nimport styled from 'styled-components';\n\nexport const SearchField = styled(Field)`\n  padding: ${({ theme }) => theme.space[3]}px;\n  border-radius: ${({ theme }) => theme.radii.normal};\n`;\n\nexport const SubmitButton = styled.button`\n  font-family: ${({ theme }) => theme.fonts.monospace};\n  margin-left: ${({ theme }) => theme.space[3]}px;\n  padding: ${({ theme }) => theme.space[2]}px;\n  border-radius: ${({ theme }) => theme.radii.normal};\n  background-color: rgb(4, 170, 109);\n  color: white;\n\n  :hover,\n  :focus {\n    background-color: #059862;\n    cursor: pointer;\n  }\n`;\n\nexport const SearchedMoviesList = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport const MovieTitle = styled.p`\n  font-family: ${({ theme }) => theme.fonts.monospace};\n`;\n","import { Formik, Form } from 'formik';\nimport { useState, useEffect } from 'react';\nimport { NavLink, useLocation, useSearchParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { Box } from 'components/Box';\nimport {\n  SearchField,\n  SubmitButton,\n  SearchedMoviesList,\n  MovieTitle,\n} from './Movies.styled';\n\nconst Movies = () => {\n  const [moviesToMarkup, setMoviesToMarkup] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const movieName = searchParams.get('query');\n\n  useEffect(() => {\n    if (!movieName) {\n      return;\n    }\n    const controller = new AbortController();\n    try {\n      axios\n        .get(\n          `https://api.themoviedb.org/3/search/movie?api_key=ffeb9f2f11028db54bd5076015c70d21&language=en-US&query=${movieName}&page=1&include_adult=false`,\n          { signal: controller.signal }\n        )\n        .then(({ data }) => setMoviesToMarkup(data.results));\n    } catch (error) {\n      console.log(error);\n    }\n\n    return () => {\n      controller.abort();\n    };\n  }, [movieName]);\n\n  const submit = ({ search }) => {\n    if (!search.trim()) {\n      console.log('Type something!');\n      return;\n    }\n    setSearchParams({ query: search });\n  };\n\n  const imageDefaultUrl = 'https://image.tmdb.org/t/p/w300';\n\n  return (\n    <Box p=\"4\">\n      <Formik onSubmit={submit} initialValues={{ search: '' }}>\n        <Form>\n          <SearchField name=\"search\" />\n          <SubmitButton type=\"submit\">Search</SubmitButton>\n        </Form>\n      </Formik>\n      {moviesToMarkup.length > 0 && (\n        <SearchedMoviesList>\n          {moviesToMarkup.map(({ id, title, poster_path }) => (\n            <li key={id}>\n              <NavLink to={`${id}`} state={{ from: location }}>\n                <img src={imageDefaultUrl + poster_path} alt={title} />\n                <MovieTitle>{title}</MovieTitle>\n              </NavLink>\n            </li>\n          ))}\n        </SearchedMoviesList>\n      )}\n    </Box>\n  );\n};\n\nexport default Movies;\n"],"names":["SearchField","styled","Field","theme","space","radii","normal","SubmitButton","fonts","monospace","SearchedMoviesList","MovieTitle","useState","moviesToMarkup","setMoviesToMarkup","useSearchParams","searchParams","setSearchParams","location","useLocation","movieName","get","useEffect","controller","AbortController","axios","signal","then","data","results","error","console","log","abort","Box","p","onSubmit","search","trim","query","initialValues","name","type","length","map","id","title","poster_path","to","state","from","src","alt"],"sourceRoot":""}